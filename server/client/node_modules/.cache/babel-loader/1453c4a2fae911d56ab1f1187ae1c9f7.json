{"ast":null,"code":"import React from\"react\";import{useQuery}from\"@apollo/client\";import{GET_MY_PROFILE}from\"../gql/queries\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(){var navigate=useNavigate();var _useQuery=useQuery(GET_MY_PROFILE),loading=_useQuery.loading,data=_useQuery.data,error=_useQuery.error;if(!localStorage.getItem(\"token\")){navigate(\"/login\");return/*#__PURE__*/_jsx(\"h1\",{children:\" Unauthorized. Please login first\"});}if(loading)return/*#__PURE__*/_jsx(\"h1\",{children:\" Loading ...\"});if(error)throw new Error(error.message);console.log(data);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",data.myprofile.name,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",data.myprofile.email,\" \"]})]}),data.myprofile.quotes.length===0&&/*#__PURE__*/_jsx(\"h1\",{children:\" No Quotes availavle \"}),data.myprofile.quotes.map(function(quote){return/*#__PURE__*/_jsxs(\"blockquote\",{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\" \",quote.title,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",quote.name,\" \"]})]});})]});};export default Profile;","map":{"version":3,"names":["React","useQuery","GET_MY_PROFILE","useNavigate","Profile","navigate","loading","data","error","localStorage","getItem","Error","message","console","log","myprofile","name","email","quotes","length","map","quote","title"],"sources":["C:/Users/Sinbad/Desktop/prac/grapgqlCNQ/client/src/components/Profile.js"],"sourcesContent":["import React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MY_PROFILE } from \"../gql/queries\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  const navigate = useNavigate();\r\n  const { loading, data, error } = useQuery(GET_MY_PROFILE);\r\n  if (!localStorage.getItem(\"token\")) {\r\n    navigate(\"/login\");\r\n    return <h1> Unauthorized. Please login first</h1>;\r\n  }\r\n  if (loading) return <h1> Loading ...</h1>;\r\n\r\n  if (error) throw new Error(error.message);\r\n  console.log(data);\r\n  return (\r\n    <>\r\n      <div>\r\n        <h5> {data.myprofile.name} </h5>\r\n        <h5> {data.myprofile.email} </h5>\r\n      </div>\r\n\r\n      {data.myprofile.quotes.length === 0 && <h1> No Quotes availavle </h1>}\r\n\r\n      {data.myprofile.quotes.map((quote) => {\r\n        return (\r\n          <blockquote>\r\n            <h6> {quote.title} </h6>\r\n            <p> {quote.name} </p>\r\n          </blockquote>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,cAAT,KAA+B,gBAA/B,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,6IAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,GAAMC,SAAQ,CAAGF,WAAW,EAA5B,CACA,cAAiCF,QAAQ,CAACC,cAAD,CAAzC,CAAQI,OAAR,WAAQA,OAAR,CAAiBC,IAAjB,WAAiBA,IAAjB,CAAuBC,KAAvB,WAAuBA,KAAvB,CACA,GAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL,CAAoC,CAClCL,QAAQ,CAAC,QAAD,CAAR,CACA,mBAAO,yDAAP,CACD,CACD,GAAIC,OAAJ,CAAa,mBAAO,oCAAP,CAEb,GAAIE,KAAJ,CAAW,KAAM,IAAIG,MAAJ,CAAUH,KAAK,CAACI,OAAhB,CAAN,CACXC,OAAO,CAACC,GAAR,CAAYP,IAAZ,EACA,mBACE,wCACE,oCACE,0BAAMA,IAAI,CAACQ,SAAL,CAAeC,IAArB,OADF,cAEE,0BAAMT,IAAI,CAACQ,SAAL,CAAeE,KAArB,OAFF,GADF,CAMGV,IAAI,CAACQ,SAAL,CAAeG,MAAf,CAAsBC,MAAtB,GAAiC,CAAjC,eAAsC,6CANzC,CAQGZ,IAAI,CAACQ,SAAL,CAAeG,MAAf,CAAsBE,GAAtB,CAA0B,SAACC,KAAD,CAAW,CACpC,mBACE,2CACE,0BAAMA,KAAK,CAACC,KAAZ,OADF,cAEE,yBAAKD,KAAK,CAACL,IAAX,OAFF,GADF,CAMD,CAPA,CARH,GADF,CAmBD,CA9BD,CAgCA,cAAeZ,QAAf"},"metadata":{},"sourceType":"module"}